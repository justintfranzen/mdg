var optgroupState={};function _getAllValuesCustomClose(){var options={};options['color']=jQuery('.doclosebtn-text-color').val();options['backgroundColor']=jQuery('.doclosebtn-bg-color').val();options['fontsize']=parseFloat(jQuery('.post_doclosebtn_fontsize').val());options['borderRadius']=parseFloat(jQuery('.post_doclosebtn_borderradius').val());options['padding']=parseFloat(jQuery('.post_doclosebtn_padding').val());return options};function matchStart(params,data){if(jQuery.trim(params.term)===''){var check_groups=jQuery('.select2-results__options.select2-results__options--nested:first-child');if(check_groups.css('display')!=='hide'){setTimeout(()=>{var groups=jQuery('.select2-container--open .select2-results__group');var id=jQuery('.select2-results__options').attr('id');if(!optgroupState[id]){optgroupState[id]={}}jQuery.each(groups,(index,v)=>{optgroupState[id][index]=optgroupState[id][index]||false;jQuery(v).siblings().hide()})},100)}return data}if(typeof data.children==='undefined'){return null}var filteredChildren=[];jQuery.each(data.children,function(idx,child){if(child.text.toUpperCase().indexOf(params.term.toUpperCase())==0){filteredChildren.push(child)}});if(filteredChildren.length){var modifiedData=jQuery.extend({},data,true);modifiedData.children=filteredChildren;return modifiedData}return null}jQuery(document).ready(function($){CustomClose=new CustomClose(_getAllValuesCustomClose());CustomClose.update();$('.doclosebtn-text-color').wpColorPicker({clear:function(){CustomClose.color='';CustomClose.update()},change:function(event,ui){var hexcolor=jQuery(this).wpColorPicker('color');CustomClose.color=hexcolor;CustomClose.update()}});$('.doclosebtn-bg-color').wpColorPicker({clear:function(){CustomClose.backgroundColor='';CustomClose.update()},change:function(event,ui){var hexcolor=jQuery(this).wpColorPicker('color');CustomClose.backgroundColor=hexcolor;CustomClose.update()}});$('#slider-doclosebtn-cookie').slider({value:0,min:0,max:99,step:1,slide:function(event,ui){var val=do_getFromField(ui.value,0,99);$('.dov_closebtn_cookie').val(val)}});$('#slider-doclosebtn-fontsize').slider({value:25,min:25,max:250,step:1,slide:function(event,ui){var val=do_getFromField(ui.value,25,250);CustomClose.fontsize=val;CustomClose.update();$('.post_doclosebtn_fontsize').val(val)}});var default_val=$('.post_doclosebtn_fontsize').val();$('#slider-doclosebtn-fontsize').slider('value',default_val);$('#slider-doclosebtn-borderradius').slider({value:0,min:0,max:50,step:1,slide:function(event,ui){var val=do_getFromField(ui.value,0,50);CustomClose.borderRadius=val;CustomClose.update();$('.post_doclosebtn_borderradius').val(val)}});var default_val=$('.post_doclosebtn_borderradius').val();$('#slider-doclosebtn-borderradius').slider('value',default_val);$('#slider-doclosebtn-padding').slider({value:0,min:0,max:99,step:1,slide:function(event,ui){var val=do_getFromField(ui.value,0,99);CustomClose.padding=val;CustomClose.update();$('.post_doclosebtn_padding').val(val)}});default_val=$('.post_doclosebtn_padding').val();$('#slider-doclosebtn-padding').slider('value',default_val)});jQuery(function($){$('.et-box-content').on('click','.et_pb_yes_no_button',function(e){e.preventDefault();e.stopPropagation();var $click_area=$(this),$box_content=$click_area.closest('.et-box-content'),$checkbox=$box_content.find('input[type="checkbox"]'),$state=$box_content.find('.et_pb_yes_no_button');if($state.parent().next().hasClass('et_pb_clear_static_css')){$state=$state.add($state.parent());if($checkbox.is(':checked')){$box_content.parent().next().hide()}else{$box_content.parent().next().show()}}$state.toggleClass('et_pb_on_state et_pb_off_state');if($checkbox.is(':checked')){$checkbox.prop('checked',false)}else{$checkbox.prop('checked',true)}});if($('#do_displaylocations_meta_box1').length){$(".chosen").select2({width:'100%',theme:"classic",minimumResultsForSearch:Infinity});var effects_entrance=$("#et_pb_divioverlay_effect_entrance_hidden"),effects_entrance_options=effects_entrance.html(),effects_exit=$("#et_pb_divioverlay_effect_exit_hidden"),effects_exit_options=effects_exit.html();effects_entrance.remove();$("#et_pb_divioverlay_effect_entrance").append(effects_entrance_options);effects_exit.remove();$("#et_pb_divioverlay_effect_exit").append(effects_exit_options);$(".overlay-animations").select2({width:'100%',theme:"classic",matcher:matchStart});$("body").on('click','#select2-et_pb_divioverlay_effect_entrance-results .select2-results__group, #select2-et_pb_divioverlay_effect_exit-results .select2-results__group',function(){$(this).siblings().toggle();var id=$(this).closest('.select2-results__options').attr('id');var index=$('.select2-results__group').index(this);optgroupState[id][index]=!optgroupState[id][index]});$('#et_pb_divioverlay_effect_entrance, #et_pb_divioverlay_effect_exit').on('select2:open',function(){$('.select2-dropdown--below').css('opacity',0);setTimeout(()=>{var groups=$('.select2-container--open .select2-results__group');var id=$('.select2-results__options').attr('id');if(!optgroupState[id]){optgroupState[id]={}}$.each(groups,(index,v)=>{optgroupState[id][index]=optgroupState[id][index]||false;optgroupState[id][index]?$(v).siblings().show():$(v).siblings().hide()});$('.select2-dropdown--below').css('opacity',1)},0)});$('#et_pb_divioverlay_effect_entrance').on('select2:select',function(e){var animation=e.params.data.id,demobox=$('.divioverlay-demo-box-entrance');demobox.addClass('animate__'+animation).one('animationend webkitAnimationEnd MSAnimationEnd oAnimationEnd',function(e){setTimeout(()=>{demobox.removeClass('animate__'+animation)},500)})});$('#et_pb_divioverlay_effect_exit').on('select2:select',function(e){var animation=e.params.data.id,demobox=$('.divioverlay-demo-box-exit');demobox.addClass('animate__'+animation).one('animationend webkitAnimationEnd MSAnimationEnd oAnimationEnd',function(e){setTimeout(()=>{demobox.removeClass('animate__'+animation)},500)})});$(".slider-bar-customhandle").slider({value:1,min:0.5,max:5,step:0.5,create:function(){$(this).find(".ui-slider-handle").text($(this).slider("value"))},slide:function(event,ui){var val=do_getFromField(ui.value,0,5);$(this).find('.ui-slider-field').val(val);$(this).find(".ui-slider-handle").text(ui.value)}});$(".slider-bar-customhandle").on("slide",function(event,ui){var slidebarSelector=$(this).attr('data-slidebar'),animation=$(slidebarSelector).val(),demobox=$($(this).attr('data-demobox')),val=do_getFromField(ui.value,0,5);demobox.css('animation-duration',val+'s');demobox.removeClass('animate__'+animation);setTimeout(()=>{demobox.addClass('animate__'+animation).one('animationend webkitAnimationEnd MSAnimationEnd oAnimationEnd',function(e){demobox.removeClass('animate__'+animation)})},150)});var default_val=$('.dov_effect_entrance_speed').val();$('#slider-animationentrance').slider('value',default_val).find(".ui-slider-handle").text(default_val);default_val=$('.dov_effect_exit_speed').val();$('#slider-animationexit').slider('value',default_val).find(".ui-slider-handle").text(default_val);$(".do-list-pages").select2({dropdownParent:$('#do_displaylocations_meta_box1'),width:'100%',theme:"bootstrap",ajax:{url:ajaxurl,dataType:'json',delay:250,method:'POST',data:function(params){return{action:'ajax_do_listposts',q:params.term,page:params.page,nonce:divilife_divioverlays,json:1}},processResults:function(data,params){params.page=params.page||1;return{results:data.items,pagination:{more:(params.page*7)<data.total_count}}},cache:true},minimumInputLength:1,escapeMarkup:function(markup){return markup},templateResult:doformatPostResults,templateSelection:doformatPostTitle});$(".do-list-categories").select2({dropdownParent:$('#do_displaylocations_meta_box1'),width:'100%',theme:"bootstrap",ajax:{url:ajaxurl,dataType:'json',delay:250,method:'POST',data:function(params){return{action:'ajax_do_listcategories',q:params.term,page:params.page,nonce:divilife_divioverlays,json:1}},processResults:function(data,params){params.page=params.page||1;return{results:data.items,pagination:{more:(params.page*7)<data.total_count}}},cache:true},closeOnSelect:false,minimumInputLength:1,escapeMarkup:function(markup){return markup},templateResult:doformatCatResults,templateSelection:doformatCatName});$(".do-list-tags").select2({dropdownParent:$('#do_displaylocations_meta_box1'),width:'100%',theme:"bootstrap",ajax:{url:ajaxurl,dataType:'json',delay:250,method:'POST',data:function(params){return{action:'ajax_do_listtags',q:params.term,page:params.page,nonce:divilife_divioverlays,json:1}},processResults:function(data,params){params.page=params.page||1;return{results:data.items,pagination:{more:(params.page*7)<data.total_count}}},cache:true},closeOnSelect:false,minimumInputLength:1,escapeMarkup:function(markup){return markup},templateResult:doformatTagResults,templateSelection:doformatTagName});$('body').on('click','.enableurltrigger',function(event){if($(this).is(':checked')){$('.enableurltrigger_filters').addClass('do-show')}else{$('.enableurltrigger_filters').removeClass('do-show')}});$('body').on('change','.do-filter-by-pages, .do-filter-by-categories, .do-filter-by-tags',function(event){var type_pages=$(this).val();if(type_pages=='specific'){$(this).parent().find('.do-list-pages-container').addClass('do-show')}else{$(this).parent().find('.do-list-pages-container').removeClass('do-show')}});$('body').on('click','.enable_custombtn',function(event){if($(this).is(':checked')){$('.enable_customizations').addClass('do-show')}else{$('.enable_customizations').removeClass('do-show')}});$('body').on('change','.post_overlay_automatictrigger',function(event){var type_at=$(this).val();if(type_at=='overlay-timed'){$('.divi_automatictrigger_timed').addClass('do-show')}else{$('.divi_automatictrigger_timed').removeClass('do-show')}if(type_at=='overlay-scroll'){$('.divi_automatictrigger_scroll').addClass('do-show')}else{$('.divi_automatictrigger_scroll').removeClass('do-show')}if(type_at.length>1){$('.do-at-devices').addClass('do-show');$('.do-at-onceperload').addClass('do-show');$('.do-at-scheduling').addClass('do-show')}else{$('.do-at-devices').removeClass('do-show');$('.do-at-onceperload').removeClass('do-show');$('.do-at-scheduling').removeClass('do-show')}});$('body').on('click','[data-showhideblock]',function(event){var block_content=$(this).data('showhideblock');if($(this).is(':checked')){$(block_content).addClass('do-show')}else{$(block_content).removeClass('do-show')}});$('[data-dropdownshowhideblock]').change(function(){var dropdown_id=$(this).attr('id'),showhideblock=$(this).find(':selected').data('showhideblock');$(this).find('option[data-showhideblock]').each(function(){var elemRef=$(this).data('showhideblock');$(elemRef).removeClass('do-show')});if(showhideblock!==undefined){$(showhideblock).addClass('do-show')}})}var select='select[name="dov_settings[dov_timezone]"]';if($(select).length){var timezones=moment.tz.names(),timezone_title;for(var i=0;i<timezones.length;i+=1){timezone_title=timezones[i].replace('_',' ');$(select).append('<option value="'+timezones[i]+'">'+timezone_title+'</option>')}$(select).selectpicker({liveSearch:true}).on('loaded.bs.select',function(e){var default_value=$(select).data('defaultvalue');if(default_value!=''){$(select).selectpicker('val',default_value)}})}$('input[name="do_date_start"]').datetimepickerr({sideBySide:true,showTodayButton:true,stepping:30,widgetPositioning:{horizontal:'auto',vertical:'top'},minDate:moment().subtract(1,'days'),format:'MM/DD/YYYY h:mm A',showClear:true,toolbarPlacement:'bottom',defaultDate:moment()},function(start,end,label){});$('input[name="do_date_end"]').datetimepickerr({sideBySide:true,stepping:30,widgetPositioning:{horizontal:'auto',vertical:'top'},minDate:moment().subtract(1,'days'),format:'MM/DD/YYYY h:mm A',showClear:true,toolbarPlacement:'bottom',defaultDate:moment(),useCurrent:false},function(start,end,label){});$('input[name="do_time_start"]').datetimepickerr({format:'LT',stepping:30,widgetPositioning:{horizontal:'auto',vertical:'top'},showClear:true,format:'h:mm A',toolbarPlacement:'bottom'},function(start,end,label){});$('input[name="do_time_end"]').datetimepickerr({format:'LT',stepping:30,widgetPositioning:{horizontal:'auto',vertical:'top'},showClear:true,format:'h:mm A',toolbarPlacement:'bottom'},function(start,end,label){});$('input[name="do_date_start"],input[name="do_date_end"],input[name="do_time_start"],input[name="do_time_end"]').on("dp.change",function(e){$('.do-recurring-user-msg').removeClass('do-show')});$('.post-type-divi_overlay form#post').submit(function(e){var recurring_msg=$('.do-recurring-user-msg'),recurring_msg_position;if($('.divioverlay-enable-scheduling option:selected').val()==1){var do_date_start=$('input[name="do_date_start"]'),do_date_start_value=do_date_start.val(),do_date_end=$('input[name="do_date_end"]');do_date_end_value=do_date_end.val(),date_start='',date_end='';if(do_date_start_value!=''&&do_date_end_value!=''){date_start=moment(do_date_start_value,'MM/DD/YYYY h:mm A');date_end=moment(do_date_end_value,'MM/DD/YYYY h:mm A');if(date_start.isBefore(date_end)===false){do_date_end.focus();recurring_msg.html('<p><strong>"End date"</strong> field should be greater than <strong>"Start date"</strong> field.</p>').addClass('do-show').removeClass('do-hide');recurring_msg_position=recurring_msg.offset().top-100;$('html,body').animate({scrollTop:recurring_msg_position},500);return false}}}if($('.divioverlay-enable-scheduling option:selected').val()==2){var do_time_start=$('input[name="do_time_start"]');do_time_start_value=do_time_start.val(),do_time_end=$('input[name="do_time_end"]'),do_time_end_value=do_time_end.val(),time_start='',time_end='';if(do_time_start_value!=''&&do_time_end_value!=''){time_start=moment(do_time_start_value,'h:mm A');time_end=moment(do_time_end_value,'h:mm A');if(time_start.isBefore(time_end)===false){do_time_end.focus();recurring_msg.html('<p><strong>"End Time"</strong> field should be greater than <strong>"Start Time"</strong> field.</p>').addClass('do-show').removeClass('do-hide');recurring_msg_position=recurring_msg.offset().top-100;$('html,body').animate({scrollTop:recurring_msg_position},500);return false}}}})});function doformatPostResults(post){var post_title=doformatPostTitle(post);if(post.loading){return post.text}var markup="<div class='select2-result-post clearfix'><div class='select2-result-post__meta'><div class='select2-result-post__title'>"+post_title+"</div>";markup+="</div></div>";if(post.id==0){markup=post_title}return markup}function doformatPostTitle(post){var postTitle=post.post_title||post.text;if(typeof postTitle==='undefined'){postTitle='Post without Title'}return post.id+" - "+postTitle}function doformatCatResults(category){var cat_name=doformatCatName(category);if(category.loading){return category.text}var markup="<div class='select2-result-cat clearfix'><div class='select2-result-cat__meta'><div class='select2-result-cat__name'>"+cat_name+"</div>";markup+="</div></div>";if(category.id==0){markup=cat_name}return markup}function doformatCatName(category){var catName=category.name||category.text;if(typeof catName==='undefined'){catName='Category without Name'}return category.id+" - "+catName}function doformatTagResults(tag){var tag_name=doformatTagName(tag);if(tag.loading){return tag.text}var markup="<div class='select2-result-tag clearfix'><div class='select2-result-tag__meta'><div class='select2-result-tag__name'>"+tag_name+"</div>";markup+="</div></div>";if(tag.id==0){markup=tag_name}return markup}function doformatTagName(tag){var tagName=tag.name||tag.text;if(typeof tagName==='undefined'){tagName='Tag without Name'}return post.id+" - "+tagName}function CustomClose(options){this.htmlElement=jQuery('.overlay-customclose-btn');this.color=options['color']||'#333333';this.backgroundColor=options['backgroundColor']||'';this.fontsize=options['fontsize']||25;this.borderRadius=options['borderRadius']||0;this.padding=options['padding']||0};CustomClose.prototype.update=function(){this.htmlElement.css('color',this.color,'important');this.htmlElement.css('background-color',this.backgroundColor,'important');this.htmlElement.css('-moz-border-radius',this.borderRadius+'%','important');this.htmlElement.css('-webkit-border-radius',this.borderRadius+'%','important');this.htmlElement.css('-khtml-border-radius',this.borderRadius+'%','important');this.htmlElement.css('font-size',this.fontsize+'px','important');this.htmlElement.css('border-radius',this.borderRadius+'%','important');this.htmlElement.css('padding',this.padding+'px','important')};function do_getFromField(value,min,max,elem){var val=parseFloat(value);if(isNaN(val)||val<min){val=0}else if(val>max){val=max}if(elem){elem.val(val)}return val}