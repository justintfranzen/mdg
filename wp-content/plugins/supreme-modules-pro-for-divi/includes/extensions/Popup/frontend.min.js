jQuery(function (t) { var e; function o(o, i, s) { s && s.preventDefault(); let a = 0; for (let p = 0; p < arguments.length; p++)a += arguments[p]; var d, n = arguments[1].dataset.dsmPopupTrigger; switch (n) { case "module": d = s.currentTarget; break; case "button": case "links": case "image": d = s.currentTarget.closest(".dsm-popup-trigger"); break; default: d = arguments[1] }var r, u, l, m = d.dataset.dsmPopupId, c = t("#dsm-popup-" + m), g = d.dataset.dsmPopupOrderClass, f = d.dataset.dsmPopupTrigger, h = d.dataset.dsmPopupType, v = d.dataset.dsmPopupCookieConsent, P = d.dataset.dsmPopupIframeUrl, b = d.dataset.dsmPopupImageSrc, y = d.dataset.dsmPopupVideoUrl, C = (d.dataset.dsmPopupIdTrigger, d.dataset.dsmPopupBackground), k = d.dataset.dsmPopupAnimationIn, $ = d.dataset.dsmPopupAnimationOut, w = "false" != d.dataset.dsmPopupCloseTrigger, x = d.dataset.dsmPopupAutoCloseTime, T = "off" != d.dataset.dsmPopupButton, O = d.dataset.dsmPopupCloseFontIcon, _ = "false" != d.dataset.dsmPopupCloseButtonPlacement, I = (d.dataset.dsmPopupWidth, d.dataset.dsmPopupFullwidthWidth), S = d.dataset.dsmPopupPosition, A = d.dataset.dsmPopupPositionTablet, B = d.dataset.dsmPopupPositionPhone, D = "fixed" != d.dataset.dsmPopupPositionType, E = d.dataset.dsmPopupPositionType, z = void 0 !== d.dataset.dsmPopupTimedDelay ? d.dataset.dsmPopupTimedDelay : 0, L = d.dataset.dsmPopupCookieExpiryDate; switch (l = "iframe" === h ? P : "image" === h ? b : "video" === h ? y : c, "video" === h && (h = "iframe"), f) { case "onload": u = Cookies.get("dsm-load-popup-cookie-" + m), L || Cookies.set("dsm-load-popup-cookie-" + m, "dsm-" + f, { expires: parseFloat(d.dataset.dsmPopupCookieExpiry), path: "", SameSite: "Lax" }); break; case "scroll": L || (r = Cookies.get("dsm-scroll-popup-cookie-" + m), Cookies.set("dsm-scroll-popup-cookie-" + m, "dsm-" + f, { expires: parseFloat(d.dataset.dsmPopupCookieExpiry), path: "", SameSite: "Lax" })) }setTimeout(function () { t.magnificPopup.open({ tLoading: "", items: { src: l }, type: h, removalDelay: 800, closeOnBgClick: w, midClick: !0, showCloseBtn: T, closeBtnInside: _, fixedContentPos: D, closeMarkup: '<button id="' + g + '" title="%title%" type="button" class="mfp-close"><span class="et-pb-icon">' + O + "</span></button>", iframe: { markup: '<div class="mfp-iframe-scaler dsm-video-popup"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe></div>', patterns: { youtube: { index: "youtube.com/", id: "v=", src: "//www.youtube.com/embed/%id%?autoplay=1&rel=0" }, youtu_be: { index: "youtu.be", id: "/", src: "//www.youtube.com/embed/%id%?autoplay=1&rel=0" }, vimeo: { index: "vimeo.com/", id: "/", src: "//player.vimeo.com/video/%id%?autoplay=1" }, dailymotion: { index: "dailymotion.com", id: function (t) { var e = t.match(/^.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/); return null !== e ? void 0 !== e[4] ? e[4] : e[2] : null }, src: "https://www.dailymotion.com/embed/video/%id%" } }, srcAction: "iframe_src" }, prependTo: e, callbacks: { beforeOpen: function () { this.bgOverlay.addClass("fadeIn animated"), this.contentContainer.attr("id", g), this.container.removeClass("mfp-container") }, open: function () { if (this.content.find(".grid").length) { let e = this.content.find(".grid").data(), o = this.content.find(".grid").masonry({ itemSelector: ".grid-item", percentPosition: !0, columnWidth: ".grid-sizer", gutter: ".gutter-sizer", horizontalOrder: e.horizontalorder }); setTimeout(function () { o.masonry() }, 200) } this.wrap.addClass("dsm-popup-wrap et-l dsm-popup-fullwidth-" + I + " dsm-popup-position-" + E), this.contentContainer.addClass(k + " animated"); var i = "", s = ""; void 0 !== A && (i = " dsm-popup-position-tablet-" + A), void 0 !== B && (s = " dsm-popup-position-phone-" + B), this.container.addClass("dsm-popup-container dsm-popup-position-" + S + i + s), void 0 === C ? (this.bgOverlay.remove(), this.wrap.addClass("dsm-popup-container-no-overlay")) : this.bgOverlay.css("background", C), void 0 !== x && setTimeout(function () { t(this).magnificPopup("close") }, 1e3 * parseFloat(x, 10)), "on" === v && this.content.find(".et_pb_button").click(function (e) { e.preventDefault(), t.magnificPopup.proto.close.call(this), Cookies.set("dsm-load-popup-cookie-" + m, "dsm-" + f, { expires: parseFloat(d.dataset.dsmPopupCookieExpiry), path: "", SameSite: "Lax" }) }) }, beforeClose: function () { this.contentContainer.removeClass(k), this.contentContainer.addClass($), this.bgOverlay.removeClass("fadeIn"), this.bgOverlay.addClass("fadeOut"), !1 === _ && this.wrap.removeClass("et-l") }, close: function () { if (this.bgOverlay.css("opacity", ""), this.bgOverlay.css("background", ""), this.contentContainer.removeClass($), t(this.content).attr("style", ""), t(this.content).children(":first").attr("style", ""), t(this.content).find("video").length) { var e = t(this.content).find("video").get(0); e.pause(), e.currentTime = 0 } if (t(this.content).find(".et_pb_video").length) { let o = t(this.content).find("iframe"), i = o.prop("src"); void 0 !== i && o.prop("src", i.replace("autoplay=1", "autoplay=0")) } } } }) }, z) } navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/), t("body").hasClass("et-fb"), e = !1 === et_builder_utils_params.condition.diviTheme && !1 === et_builder_utils_params.condition.extraTheme ? t("#et_builder_outer_content") : "undefined" == typeof et_modules_wrapper ? t("#page-container") : t("#et-boc"), t(document).on("click", ".dsm-popup-wrap .mfp-close", function () { jQuery.magnificPopup.proto.close.call(this) }), t(".dsm-popup-trigger").length && t(".dsm-popup-trigger").each(function (e, i) { if ("module" === t(this).attr("data-dsm-popup-trigger")) t(".dsm-popup-module").on("click", function (t) { o(e, i, t) }); else if ("links" === t(this).attr("data-dsm-popup-trigger")) t(".dsm-popup-links a").on("click", function (t) { o(e, i, t) }); else if ("image" === t(this).attr("data-dsm-popup-trigger")) t(".dsm-popup-image img").on("click", function (t) { o(e, i, t) }); else if ("scroll" === t(this).attr("data-dsm-popup-trigger")) { var s; if (Cookies.get("dsm-scroll-popup-cookie-" + i.dataset.dsmPopupId)) return; new Waypoint({ element: this, handler: function (t) { o(e, i), this.destroy() }, offset: "50%" }) } else if ("onload" === t(this).attr("data-dsm-popup-trigger")) { if (Cookies.get("dsm-load-popup-cookie-" + i.dataset.dsmPopupId)) return; o(e, i) } else "exit" === t(this).attr("data-dsm-popup-trigger") ? glio.init(["top", function (t) { o(e, i, t) }]) : "button" === t(this).attr("data-dsm-popup-trigger") ? t(document).on("click", ".dsm-popup-button .et_pb_button", function (t) { o(e, i, t) }) : "id" === t(this).attr("data-dsm-popup-trigger") ? (s = "#" === t(this).attr("data-dsm-popup-id-trigger").charAt(0) ? t(this).attr("data-dsm-popup-id-trigger").substring(1) : t(this).attr("data-dsm-popup-id-trigger"), t(document).find("#" + s).addClass("dsm-popup-id-trigger"), t("#" + s).on("click", function (t) { o(e, i, t) })) : "class" === t(this).attr("data-dsm-popup-trigger") && (s = "." === t(this).attr("data-dsm-popup-class-trigger").charAt(0) ? t(this).attr("data-dsm-popup-class-trigger").substring(1) : t(this).attr("data-dsm-popup-class-trigger"), t(document).find("." + s).addClass("dsm-popup-id-trigger"), t("." + s).on("click", function (t) { o(e, i, t) })) }) });